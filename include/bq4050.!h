#ifndef __BQ4050_H__
#define __BQ4050_H__

typedef enum
{
    I2C_START = 0,
    I2C_SEND_ADDRESS,
    I2C_CLEAR_ADDRESS_FLAG,
    I2C_TRANSMIT_DATA,
    I2C_STOP
} i2c_process_enum;

#define I2C_TIME_OUT (uint16_t)(5000)
#define I2C_OK 1
#define I2C_FAIL 0
#define I2C_END 1

#define BQ_ADDR (0x16 >> 0)

void bq_Init();
uint8_t bq_BattState();                  // Return CHG/DSG(0xF?/0x0?), OK/Bad(0x?0/0x?F)
uint16_t bq_GetAdvState();               // Return XDSG/XCHG/PF/SS/FC/FD/TAPR/VCT/CB/SMTH/SU/IN/VDQ/FCCX/EDV2/EDV1
uint16_t bq_GetVoltage();                // Unit: mV
int16_t bq_GetCurrent();                 // Unit: mA
uint8_t bq_GetRSOC();                    // Unit: %
uint16_t bq_GetT2E();                    // Unit: min
uint16_t bq_GetT2F();                    // Unit: min
uint16_t bq_GetPackTemp();               // Unit: 0.1K
uint8_t bq_GetMaxErr();                  // Unit: %
uint8_t bq_GetHealth();                  // Unit: %
uint16_t bq_GetCellVolt(uint8_t cellNo); // Unit: mV
uint16_t bq_GetCycleCnt();

void bq_GetLifetimeBlock(uint8_t blockNo, uint8_t *blockBuf);

#endif
